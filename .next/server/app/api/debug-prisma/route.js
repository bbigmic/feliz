"use strict";(()=>{var e={};e.id=979,e.ids=[979],e.modules={3524:e=>{e.exports=require("@prisma/client")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5663:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>w,requestAsyncStorage:()=>p,routeModule:()=>u,serverHooks:()=>l,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{GET:()=>d});var i=r(9303),s=r(8716),n=r(670),o=r(7070),c=r(3524);async function d(){try{console.log("Debug Prisma Client instances");let e=new c.PrismaClient,t=new c.PrismaClient,r=new c.PrismaClient;await e.$connect(),await t.$connect(),await r.$connect();let a=await e.order.count(),i=await t.order.count(),s=await r.order.count(),n=await e.order.findFirst({orderBy:{createdAt:"desc"},select:{id:!0,email:!0,createdAt:!0}}),d=await t.order.findFirst({orderBy:{createdAt:"desc"},select:{id:!0,email:!0,createdAt:!0}}),u=await r.order.findFirst({orderBy:{createdAt:"desc"},select:{id:!0,email:!0,createdAt:!0}}),p=await e.$queryRaw`
      SELECT 
        current_database() as database_name,
        current_user as current_user,
        NOW() as current_time,
        pg_backend_pid() as process_id
    `;return await e.$disconnect(),await t.$disconnect(),await r.$disconnect(),o.NextResponse.json({success:!0,message:"Sprawdzono r\xf3żne instancje Prisma Client",instances:{prisma1:{count:a,latest:n},prisma2:{count:i,latest:d},prisma3:{count:s,latest:u}},connectionInfo:p,allSame:a===i&&i===s,timestamp:new Date().toISOString()})}catch(e){return console.error("Debug Prisma error:",e),o.NextResponse.json({error:String(e),message:"Błąd debugowania Prisma Client"},{status:500})}}let u=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/debug-prisma/route",pathname:"/api/debug-prisma",filename:"route",bundlePath:"app/api/debug-prisma/route"},resolvedPagePath:"/Users/bigmic/Desktop/apki/feliztrade/app/api/debug-prisma/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:m,serverHooks:l}=u,g="/api/debug-prisma/route";function w(){return(0,n.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:m})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,972],()=>r(5663));module.exports=a})();