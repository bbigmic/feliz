(()=>{var e={};e.id=3,e.ids=[3],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7271:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>o}),a(8748),a(1506),a(5866);var s=a(3191),r=a(8716),l=a(7922),i=a.n(l),n=a(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let o=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8748)),"/Users/bigmic/Desktop/apki/feliztrade/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"/Users/bigmic/Desktop/apki/feliztrade/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/bigmic/Desktop/apki/feliztrade/app/admin/page.tsx"],x="/admin/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},1983:(e,t,a)=>{Promise.resolve().then(a.bind(a,2929))},904:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},5407:(e,t,a)=>{Promise.resolve().then(a.bind(a,381))},2929:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(326),r=a(7577),l=a(4891),i=a(6557);let n=(0,i.Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),d=(0,i.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),o=(0,i.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),c=(0,i.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),x=(0,i.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),m=(0,i.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),p=(0,i.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var u=a(381);function h({isOpen:e,onClose:t,onAdded:a,softwareToEdit:l}){let[i,n]=(0,r.useState)(l?.name||""),[d,o]=(0,r.useState)(l?.description||""),[c,x]=(0,r.useState)(l?.price||0),[m,p]=(0,r.useState)(l?.categories?JSON.parse(l.categories).join(", "):""),[h,b]=(0,r.useState)(l?.demoUrl||""),[y,j]=(0,r.useState)(l?.features?JSON.parse(l.features):[]),[g,f]=(0,r.useState)(""),[N,k]=(0,r.useState)(l?.rating||5),[w,v]=(0,r.useState)(l?.sales||0),[z,S]=(0,r.useState)(l?.status||"active"),[C,P]=(0,r.useState)(l?.images?l.images.map(e=>e.url):[]),[A,T]=(0,r.useState)(l?.images?l.images.findIndex(e=>e.isThumbnail):0),[Z,D]=(0,r.useState)(!1);if(!e)return null;let E=async e=>{let t=e.target.files;if(!t)return;D(!0);let a=[];for(let e=0;e<t.length;e++){let s=new FormData;s.append("file",t[e]);let r=await fetch("/api/admin/upload-image",{method:"POST",body:s}),l=await r.json();l.url?a.push(l.url):u.ZP.error("Błąd uploadu zdjęcia!")}P(e=>[...e,...a]),D(!1),T(0)},O=async e=>{e.preventDefault();let s=[];if(i||s.push("nazwa"),d||s.push("opis"),m||s.push("kategorie"),h||s.push("demoUrl"),s.length>0){console.error("Brakujące pola:",s),u.ZP.error(`Uzupełnij: ${s.join(", ")}`);return}let r={name:i,description:d,price:c,categories:JSON.stringify(m.split(",").map(e=>e.trim()).filter(Boolean)),demoUrl:h,features:JSON.stringify(y),rating:N,sales:w,status:z,images:C,thumbnailIdx:A};(l?await fetch(`/api/admin/softwares?id=${l.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}):await fetch("/api/admin/softwares",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?(u.ZP.success(l?"Oprogramowanie zaktualizowane!":"Oprogramowanie dodane!"),a(),t(),l||(n(""),o(""),x(0),p(""),b(""),j([]),f(""),k(5),v(0),S("active"),P([]),T(0))):u.ZP.error("Błąd przy zapisie oprogramowania!")};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:(0,s.jsxs)("div",{className:"bg-darkpanel rounded-xl shadow-lg p-8 w-full max-w-lg relative",children:[s.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-white",onClick:t,disabled:Z,children:"✕"}),s.jsx("h2",{className:"text-2xl font-bold mb-4 text-center text-darktext",children:"Dodaj oprogramowanie"}),(0,s.jsxs)("form",{onSubmit:O,className:"space-y-4",children:[s.jsx("input",{type:"text",placeholder:"Nazwa",className:"w-full p-2 rounded bg-darkbg border border-gray-700 text-darktext",value:i,onChange:e=>n(e.target.value),required:!0,disabled:Z}),s.jsx("textarea",{placeholder:"Opis",className:"w-full p-2 rounded bg-darkbg border border-gray-700 text-darktext",value:d,onChange:e=>o(e.target.value),required:!0,disabled:Z}),s.jsx("input",{type:"number",placeholder:"Cena",className:"w-full p-2 rounded bg-darkbg border border-gray-700 text-darktext",value:c,onChange:e=>x(Number(e.target.value)),required:!0,disabled:Z}),s.jsx("input",{type:"text",placeholder:"Kategorie (oddziel przecinkiem)",className:"w-full p-2 rounded bg-darkbg border border-gray-700 text-darktext",value:m,onChange:e=>p(e.target.value),required:!0,disabled:Z}),s.jsx("input",{type:"url",placeholder:"Demo URL",className:"w-full p-2 rounded bg-darkbg border border-gray-700 text-darktext",value:h,onChange:e=>b(e.target.value),required:!0,disabled:Z}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Dodaj cechę",className:"flex-1 p-2 rounded bg-darkbg border border-gray-700 text-darktext",value:g,onChange:e=>f(e.target.value),disabled:Z}),s.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{g.trim()&&(j([...y,g.trim()]),f(""))},disabled:Z,children:"Dodaj"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((e,t)=>s.jsx("span",{className:"bg-primary-600 text-white px-2 py-1 rounded-full text-xs",children:e},t))}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block mb-2 text-darksubtle",children:"Zdjęcia (Cloudinary):"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:E,disabled:Z}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:C.map((e,t)=>(0,s.jsxs)("div",{className:`relative border-2 rounded-lg ${A===t?"border-primary-500":"border-gray-700"}`,children:[s.jsx("img",{src:e,alt:"miniatura",className:"w-20 h-20 object-cover rounded-lg"}),s.jsx("button",{type:"button",className:"absolute top-1 right-1 bg-black bg-opacity-60 text-white rounded-full px-1 text-xs",onClick:()=>{P(C.filter((e,a)=>a!==t)),A===t?T(0):A>t&&T(A-1)},children:"\xd7"}),s.jsx("button",{type:"button",className:`absolute bottom-1 left-1 rounded-full px-2 text-xs ${A===t?"bg-primary-600 text-white":"bg-gray-700 text-gray-200"}`,onClick:()=>T(t),children:A===t?"Miniaturka":"Ustaw jako miniaturkę"})]},e))})]}),s.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:Z,children:Z?"Ładowanie...":"Dodaj oprogramowanie"})]})]})})}function b({isOpen:e,onClose:t,onAuthSuccess:a}){let[l,i]=(0,r.useState)("login"),[n,d]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[x,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1);if(!e)return null;let j=async e=>{if(e.preventDefault(),"register"===l&&!p){u.ZP.error("Musisz zaakceptować regulamin!");return}m(!0);try{let e="register"===l?{email:n,password:o,termsAccepted:p,marketingAccepted:b}:{email:n,password:o},s=await fetch(`/api/auth/${l}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await s.json();s.ok?(u.ZP.success("login"===l?"Zalogowano pomyślnie!":"Rejestracja udana!"),t(),a&&a(),d(""),c("")):u.ZP.error(r.error||"Błąd!")}catch(e){u.ZP.error("Błąd sieci!")}finally{m(!1)}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:(0,s.jsxs)("div",{className:"bg-darkpanel rounded-xl shadow-lg p-8 w-full max-w-sm relative",children:[s.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-white",onClick:t,disabled:x,children:"✕"}),s.jsx("h2",{className:"text-2xl font-bold mb-4 text-center text-darktext",children:"login"===l?"Logowanie":"Rejestracja"}),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[s.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 rounded bg-darkbg border border-gray-700 text-darktext",value:n,onChange:e=>d(e.target.value),required:!0,disabled:x}),s.jsx("input",{type:"password",placeholder:"Hasło",className:"w-full p-2 rounded bg-darkbg border border-gray-700 text-darktext",value:o,onChange:e=>c(e.target.value),required:!0,disabled:x}),"register"===l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-darksubtle",children:[s.jsx("input",{type:"checkbox",checked:p,onChange:e=>h(e.target.checked),required:!0,disabled:x}),"Akceptuję ",s.jsx("a",{href:"/regulamin",target:"_blank",className:"underline text-primary-400",children:"regulamin"})," (wymagane)"]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm text-darksubtle",children:[s.jsx("input",{type:"checkbox",checked:b,onChange:e=>y(e.target.checked),disabled:x}),"Chcę otrzymywać informacje marketingowe (opcjonalnie)"]})]}),s.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:x,children:x?"...":"login"===l?"Zaloguj się":"Zarejestruj się"})]}),s.jsx("div",{className:"text-center mt-4",children:"login"===l?(0,s.jsxs)("span",{className:"text-sm text-gray-400",children:["Nie masz konta?"," ",s.jsx("button",{className:"text-primary-400 hover:underline",onClick:()=>i("register"),disabled:x,children:"Zarejestruj się"})]}):(0,s.jsxs)("span",{className:"text-sm text-gray-400",children:["Masz już konto?"," ",s.jsx("button",{className:"text-primary-400 hover:underline",onClick:()=>i("login"),disabled:x,children:"Zaloguj się"})]})})]})})}function y(){let[e,t]=(0,r.useState)("software"),[a,i]=(0,r.useState)([]),[y,j]=(0,r.useState)(!1),[g,f]=(0,r.useState)(null),[N,k]=(0,r.useState)(!1),[w,v]=(0,r.useState)("software"),[z,S]=(0,r.useState)([]),[C,P]=(0,r.useState)(!1),[A,T]=(0,r.useState)(null),[Z,D]=(0,r.useState)([]),[E,O]=(0,r.useState)(!1),[L,U]=(0,r.useState)(!1),[q,_]=(0,r.useState)([]),[M,$]=(0,r.useState)(!1),[W,F]=(0,r.useState)(!1),[B,J]=(0,r.useState)(null),[K,I]=(0,r.useState)(!1),[V,R]=(0,r.useState)(null),[H,G]=(0,r.useState)("all"),[Y,X]=(0,r.useState)(!1),[Q,ee]=(0,r.useState)(!1),[et,ea]=(0,r.useState)(null),es=async()=>{j(!0);let e=await fetch("/api/admin/softwares");i((await e.json()).softwares||[]),j(!1)},er=async()=>{$(!0);let e=await fetch("/api/admin/components");_((await e.json()).components||[]),$(!1)};if(!Y)return s.jsx("div",{className:"min-h-screen flex items-center justify-center text-darksubtle",children:"Sprawdzanie uprawnień..."});if(Q)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-darkbg text-darktext",children:(0,s.jsxs)("div",{className:"max-w-sm w-full",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Panel Administracyjny"}),s.jsx("p",{className:"text-darksubtle mt-2",children:"Dostęp tylko dla administratora"})]}),s.jsx(b,{isOpen:!0,onClose:()=>{},onAuthSuccess:()=>window.location.reload()})]})});let el=a.filter(e=>"all"===H||e.status===H),ei=[{title:"Wszystkie oprogramowanie",value:a.length,icon:n,color:"text-primary-500"},{title:"Aktywne",value:a.filter(e=>"active"===e.status).length,icon:d,color:"text-green-600"},{title:"Wyświetlane",value:el.length,icon:o,color:"text-purple-600"},{title:"Średnia ocena",value:a.length>0?(a.reduce((e,t)=>e+t.rating,0)/a.length).toFixed(1):"0.0",icon:c,color:"text-orange-600"}],en=async(e,t)=>{let s="active"===t?"inactive":"active";try{(await fetch(`/api/admin/softwares?id=${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})})).ok?(i(a.map(t=>t.id===e?{...t,status:s}:t)),u.ZP.success(`Status zmieniony na ${"active"===s?"aktywny":"nieaktywny"}`)):u.ZP.error("Błąd podczas zmiany statusu")}catch(e){console.error("Error toggling status:",e),u.ZP.error("Błąd podczas zmiany statusu")}};return(0,s.jsxs)("div",{className:"min-h-screen bg-darkbg text-darktext",children:[s.jsx("header",{className:"bg-darkpanel shadow-sm border-b border-gray-800",children:s.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:"/logo-wsp-edu.png",alt:"Logo",className:"w-10 h-10 rounded-lg object-contain p-1"}),s.jsx("h1",{className:"text-2xl font-bold text-darktext",children:"Panel Administracyjny"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 w-full sm:w-auto",children:[(0,s.jsxs)("button",{className:"btn-primary flex items-center justify-center space-x-2 w-full sm:w-auto",onClick:()=>U(!0),children:[s.jsx(x,{className:"w-4 h-4"}),s.jsx("span",{children:"Dodaj oprogramowanie"})]}),s.jsx("button",{className:"btn-secondary text-sm px-4 py-2 w-full sm:w-auto",onClick:async()=>{await fetch("/api/auth/logout",{method:"POST"}),window.location.reload()},children:"Wyloguj się"})]})]})})}),(0,s.jsxs)("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8",children:[(0,s.jsxs)("div",{className:"flex space-x-2 mb-6 border-b border-gray-800 overflow-x-auto whitespace-nowrap scrollbar-thin scrollbar-thumb-darkbg scrollbar-track-transparent",children:[s.jsx("button",{className:`px-6 py-2 font-medium transition-colors duration-200 border-b-2 ${"software"===e?"border-primary-500 text-primary-500":"border-transparent text-darksubtle hover:text-primary-400"}`,onClick:()=>t("software"),children:"Oprogramowania"}),s.jsx("button",{className:`px-6 py-2 font-medium transition-colors duration-200 border-b-2 ${"users"===e?"border-primary-500 text-primary-500":"border-transparent text-darksubtle hover:text-primary-400"}`,onClick:()=>t("users"),children:"Użytkownicy"}),s.jsx("button",{className:`px-6 py-2 font-medium transition-colors duration-200 border-b-2 ${"orders"===e?"border-primary-500 text-primary-500":"border-transparent text-darksubtle hover:text-primary-400"}`,onClick:()=>t("orders"),children:"Zam\xf3wienia"}),s.jsx("button",{className:`px-6 py-2 font-medium transition-colors duration-200 border-b-2 ${"components"===e?"border-primary-500 text-primary-500":"border-transparent text-darksubtle hover:text-primary-400"}`,onClick:()=>t("components"),children:"Komponenty"})]}),"software"===e&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(l.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-4 gap-4 md:gap-6 mb-6",children:ei.map((e,t)=>s.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"card min-w-[180px]",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-darksubtle",children:e.title}),s.jsx("p",{className:"text-2xl font-bold text-darktext",children:e.value})]}),s.jsx("div",{className:`w-12 h-12 rounded-lg bg-darkbg flex items-center justify-center ${e.color}`,children:s.jsx(e.icon,{className:"w-6 h-6"})})]})},e.title))}),(0,s.jsxs)(l.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-darktext",children:"Zarządzanie oprogramowaniami"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 w-full sm:w-auto",children:[(0,s.jsxs)("select",{className:"px-3 py-2 border border-gray-700 rounded-lg text-sm bg-darkpanel text-darktext w-full sm:w-auto",children:[s.jsx("option",{className:"bg-darkpanel text-darktext",children:"Wszystkie kategorie"}),s.jsx("option",{className:"bg-darkpanel text-darktext",children:"E-commerce"}),s.jsx("option",{className:"bg-darkpanel text-darktext",children:"Business"}),s.jsx("option",{className:"bg-darkpanel text-darktext",children:"Content"})]}),(0,s.jsxs)("select",{value:H,onChange:e=>G(e.target.value),className:"px-3 py-2 border border-gray-700 rounded-lg text-sm bg-darkpanel text-darktext w-full sm:w-auto",children:[s.jsx("option",{value:"all",className:"bg-darkpanel text-darktext",children:"Wszystkie statusy"}),s.jsx("option",{value:"active",className:"bg-darkpanel text-darktext",children:"Aktywne"}),s.jsx("option",{value:"inactive",className:"bg-darkpanel text-darktext",children:"Nieaktywne"})]})]})]}),y?s.jsx("div",{className:"text-center py-12 text-lg text-darksubtle",children:"Ładowanie danych..."}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"flex flex-col gap-4 sm:hidden",children:el.map(e=>(0,s.jsxs)("div",{className:"bg-darkpanel rounded-xl shadow-lg p-4 border border-gray-800",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[e.thumbnailUrl&&s.jsx("img",{src:e.thumbnailUrl,alt:e.name,className:"w-14 h-14 rounded-lg object-cover border border-gray-800"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-darktext text-lg",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-darksubtle",children:[e.description.substring(0,50),"..."]})]})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:(Array.isArray(e.categories)?e.categories:JSON.parse(e.categories||"[]")).map((e,t)=>s.jsx("span",{className:"bg-primary-600 text-white px-2 py-1 rounded-full text-xs font-medium mr-1",children:e},e))}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("span",{className:"text-primary-400 font-bold text-base",children:[e.price.toLocaleString("pl-PL")," zł"]}),(0,s.jsxs)("span",{className:"text-darksubtle text-xs",children:["Sprzedaże: ",e.sales]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-yellow-500",children:"★"}),s.jsx("span",{className:"text-darksubtle",children:e.rating}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${"active"===e.status?"bg-green-900 text-green-300 border border-green-800":"bg-red-900 text-red-300 border border-red-800"}`,children:"active"===e.status?"Aktywne":"Nieaktywne"})]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[s.jsx("button",{onClick:()=>{R(e),k(!0)},className:"btn-primary flex-1 py-2 text-xs",children:"Edytuj"}),s.jsx("button",{onClick:()=>window.open(`/demo/${e.id}`,"_blank"),className:"btn-secondary flex-1 py-2 text-xs",children:"Zobacz"}),s.jsx("button",{onClick:()=>en(e.id,e.status),className:`flex-1 py-2 text-xs rounded-lg ${"active"===e.status?"bg-orange-700 hover:bg-orange-800 text-white":"bg-green-700 hover:bg-green-800 text-white"}`,children:"active"===e.status?"Dezaktywuj":"Aktywuj"}),s.jsx("button",{onClick:async()=>{confirm("Czy na pewno chcesz usunąć to oprogramowanie?")&&(await fetch(`/api/admin/softwares?id=${e.id}`,{method:"DELETE"}),es())},className:"bg-red-700 hover:bg-red-800 text-white rounded-lg px-2 py-2 text-xs",children:"Usuń"})]})]},e.id))}),s.jsx("div",{className:"overflow-x-auto hidden sm:block",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-800",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-darksubtle",children:"Nazwa"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-darksubtle",children:"Kategoria"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-darksubtle",children:"Cena"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-darksubtle",children:"Sprzedaże"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-darksubtle",children:"Ocena"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-darksubtle",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-darksubtle",children:"Akcje"})]})}),s.jsx("tbody",{children:el.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-900 hover:bg-darkbg/60",children:[s.jsx("td",{className:"py-4 px-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[e.thumbnailUrl&&s.jsx("img",{src:e.thumbnailUrl,alt:e.name,className:"w-12 h-12 rounded-lg object-cover border border-gray-800"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-darktext",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-darksubtle",children:[e.description.substring(0,50),"..."]})]})]})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:(Array.isArray(e.categories)?e.categories:JSON.parse(e.categories||"[]")).map((e,t)=>s.jsx("span",{className:"bg-primary-600 text-white px-2 py-1 rounded-full text-xs font-medium mr-1",children:e},e))})}),(0,s.jsxs)("td",{className:"py-4 px-4 font-medium text-darktext",children:[e.price.toLocaleString("pl-PL")," zł"]}),s.jsx("td",{className:"py-4 px-4 text-darksubtle",children:e.sales}),s.jsx("td",{className:"py-4 px-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx("span",{className:"text-yellow-500",children:"★"}),s.jsx("span",{className:"text-darksubtle",children:e.rating})]})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${"active"===e.status?"bg-green-900 text-green-300 border border-green-800":"bg-red-900 text-red-300 border border-red-800"}`,children:"active"===e.status?"Aktywne":"Nieaktywne"})}),s.jsx("td",{className:"py-4 px-4",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{R(e),k(!0)},className:"text-primary-500 hover:text-primary-300 p-1",title:"Edytuj",children:s.jsx(m,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>window.open(`/demo/${e.id}`,"_blank"),className:"text-green-400 hover:text-green-300 p-1",title:"Zobacz demo",children:s.jsx(d,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>en(e.id,e.status),className:`p-1 ${"active"===e.status?"text-orange-400 hover:text-orange-300":"text-green-400 hover:text-green-300"}`,title:"active"===e.status?"Dezaktywuj":"Aktywuj",children:"active"===e.status?"⏸️":"▶️"}),s.jsx("button",{onClick:async()=>{confirm("Czy na pewno chcesz usunąć to oprogramowanie?")&&(await fetch(`/api/admin/softwares?id=${e.id}`,{method:"DELETE"}),es())},className:"text-red-400 hover:text-red-300 p-1",title:"Usuń",children:s.jsx(p,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})]})]}),"users"===e&&(0,s.jsxs)(l.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Użytkownicy"}),E?s.jsx("div",{className:"text-center py-12 text-lg text-darksubtle",children:"Ładowanie danych..."}):(0,s.jsxs)("table",{className:"w-full text-left",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"py-2",children:"ID"}),s.jsx("th",{className:"py-2",children:"Email"}),s.jsx("th",{className:"py-2",children:"Data rejestracji"}),s.jsx("th",{className:"py-2",children:"Zgoda na regulamin"}),s.jsx("th",{className:"py-2",children:"Zgoda marketingowa"})]})}),s.jsx("tbody",{children:Z.map(e=>(0,s.jsxs)("tr",{className:"border-t border-gray-700",children:[s.jsx("td",{className:"py-2",children:e.id}),s.jsx("td",{className:"py-2",children:e.email}),s.jsx("td",{className:"py-2",children:new Date(e.createdAt).toLocaleString("pl-PL")}),s.jsx("td",{className:"py-2",children:e.termsAccepted?"✔️":"❌"}),s.jsx("td",{className:"py-2",children:e.marketingAccepted?"✔️":"❌"})]},e.id))})]})]}),"orders"===e&&(0,s.jsxs)(l.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Zam\xf3wienia demo"}),C?s.jsx("div",{className:"text-center py-12 text-lg text-darksubtle",children:"Ładowanie danych..."}):(0,s.jsxs)("table",{className:"w-full text-left",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"py-2",children:"ID"}),s.jsx("th",{className:"py-2",children:"Email"}),s.jsx("th",{className:"py-2",children:"Typ"}),s.jsx("th",{className:"py-2",children:"Produkt"}),s.jsx("th",{className:"py-2",children:"Telefon"}),s.jsx("th",{className:"py-2",children:"Status"}),s.jsx("th",{className:"py-2",children:"Data"}),s.jsx("th",{className:"py-2",children:"Zgoda na regulamin"}),s.jsx("th",{className:"py-2",children:"Zgoda marketingowa"}),s.jsx("th",{className:"py-2",children:"Akcje"})]})}),s.jsx("tbody",{children:z.map(e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("tr",{className:"border-t border-gray-700",children:[s.jsx("td",{className:"py-2",children:e.id}),s.jsx("td",{className:"py-2",children:e.email||e.user?.email||"Brak"}),s.jsx("td",{className:"py-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"consultation"===e.orderType?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:"consultation"===e.orderType?"Wycena":"Demo"})}),s.jsx("td",{className:"py-2",children:e.productId||"N/A"}),s.jsx("td",{className:"py-2",children:e.phone}),s.jsx("td",{className:"py-2",children:e.status}),s.jsx("td",{className:"py-2",children:new Date(e.createdAt).toLocaleString("pl-PL")}),s.jsx("td",{className:"py-2",children:e.termsAccepted?"✔️":"❌"}),s.jsx("td",{className:"py-2",children:e.marketingAccepted?"✔️":"❌"}),s.jsx("td",{className:"py-2",children:s.jsx("button",{className:"btn-secondary text-xs px-3 py-1",onClick:()=>T(A===e.id?null:e.id),children:A===e.id?"Ukryj":"Szczeg\xf3ły"})})]},e.id),A===e.id&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"bg-darkbg/80 p-4 border-t border-b border-primary-700 text-sm",children:(0,s.jsxs)("div",{children:[s.jsx("b",{children:"Dodatkowe informacje od zamawiającego:"}),s.jsx("br",{}),e.info?e.info:s.jsx("span",{className:"text-darksubtle",children:"Brak dodatkowych informacji"})]})})})]}))})]})]}),"components"===e&&(0,s.jsxs)(l.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-darktext",children:"Komponenty"}),(0,s.jsxs)("button",{className:"btn-primary flex items-center space-x-2",onClick:()=>F(!0),children:[s.jsx(x,{className:"w-4 h-4"}),s.jsx("span",{children:"Dodaj komponent"})]})]}),M?s.jsx("div",{className:"text-center py-12 text-lg text-darksubtle",children:"Ładowanie danych..."}):s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-800",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-darksubtle",children:"Nazwa"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-darksubtle",children:"Koszt od (PLN)"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-darksubtle",children:"Koszt do (PLN)"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-darksubtle",children:"Uwagi"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-darksubtle",children:"Akcje"})]})}),s.jsx("tbody",{children:q.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-900 hover:bg-darkbg/60",children:[s.jsx("td",{className:"py-4 px-4",children:e.name}),s.jsx("td",{className:"py-4 px-4",children:e.priceFrom.toLocaleString("pl-PL")}),s.jsx("td",{className:"py-4 px-4",children:e.priceTo.toLocaleString("pl-PL")}),s.jsx("td",{className:"py-4 px-4",children:e.notes}),s.jsx("td",{className:"py-4 px-4",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{J(e),I(!0)},className:"text-primary-500 hover:text-primary-300 p-1",title:"Edytuj",children:s.jsx(m,{className:"w-4 h-4"})}),s.jsx("button",{onClick:async()=>{confirm("Czy na pewno chcesz usunąć ten komponent?")&&(await fetch(`/api/admin/components?id=${e.id}`,{method:"DELETE"}),er())},className:"text-red-400 hover:text-red-300 p-1",title:"Usuń",children:s.jsx(p,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})]}),N&&V&&s.jsx(h,{isOpen:N,onClose:()=>{k(!1),R(null)},onAdded:es,softwareToEdit:V}),s.jsx(h,{isOpen:L,onClose:()=>U(!1),onAdded:es}),W&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:(0,s.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-darkpanel rounded-lg p-6 w-full max-w-xl mx-4 border border-gray-800",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-darktext",children:"Dodaj komponent"}),(0,s.jsxs)("form",{className:"space-y-4",onSubmit:async e=>{e.preventDefault();let t=e.target,a={name:t.name.value,priceFrom:Number(t.priceFrom.value),priceTo:Number(t.priceTo.value),notes:t.notes.value};await fetch("/api/admin/components",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),F(!1),er()},children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-darksubtle mb-1",children:"Nazwa"}),s.jsx("input",{name:"name",required:!0,className:"w-full px-3 py-2 border border-gray-700 rounded-lg bg-darkbg text-darktext"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-darksubtle mb-1",children:"Koszt od (PLN)"}),s.jsx("input",{name:"priceFrom",type:"number",required:!0,className:"w-full px-3 py-2 border border-gray-700 rounded-lg bg-darkbg text-darktext"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-darksubtle mb-1",children:"Koszt do (PLN)"}),s.jsx("input",{name:"priceTo",type:"number",required:!0,className:"w-full px-3 py-2 border border-gray-700 rounded-lg bg-darkbg text-darktext"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-darksubtle mb-1",children:"Uwagi"}),s.jsx("input",{name:"notes",className:"w-full px-3 py-2 border border-gray-700 rounded-lg bg-darkbg text-darktext"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>F(!1),className:"btn-secondary",children:"Anuluj"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Dodaj"})]})]})]})}),K&&B&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:(0,s.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-darkpanel rounded-lg p-6 w-full max-w-xl mx-4 border border-gray-800",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-darktext",children:"Edytuj komponent"}),(0,s.jsxs)("form",{className:"space-y-4",onSubmit:async e=>{e.preventDefault();let t=e.target;await fetch(`/api/admin/components?id=${B.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name.value,priceFrom:Number(t.priceFrom.value),priceTo:Number(t.priceTo.value),notes:t.notes.value})}),I(!1),J(null),er()},children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-darksubtle mb-1",children:"Nazwa"}),s.jsx("input",{name:"name",defaultValue:B.name,required:!0,className:"w-full px-3 py-2 border border-gray-700 rounded-lg bg-darkbg text-darktext"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-darksubtle mb-1",children:"Koszt od (PLN)"}),s.jsx("input",{name:"priceFrom",type:"number",defaultValue:B.priceFrom,required:!0,className:"w-full px-3 py-2 border border-gray-700 rounded-lg bg-darkbg text-darktext"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-darksubtle mb-1",children:"Koszt do (PLN)"}),s.jsx("input",{name:"priceTo",type:"number",defaultValue:B.priceTo,required:!0,className:"w-full px-3 py-2 border border-gray-700 rounded-lg bg-darkbg text-darktext"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-darksubtle mb-1",children:"Uwagi"}),s.jsx("input",{name:"notes",defaultValue:B.notes,className:"w-full px-3 py-2 border border-gray-700 rounded-lg bg-darkbg text-darktext"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{I(!1),J(null)},className:"btn-secondary",children:"Anuluj"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Zapisz zmiany"})]})]})]})})]})}process.env.CLOUDINARY_CLOUD_NAME,process.env.CLOUDINARY_API_KEY,process.env.CLOUDINARY_API_SECRET},8748:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`/Users/bigmic/Desktop/apki/feliztrade/app/admin/page.tsx#default`)},1506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d,metadata:()=>n});var s=a(9510),r=a(5384),l=a.n(r);a(7272);var i=a(9125);let n={title:"FelizTrade - Platforma Sprzedaży Oprogramowań WWW",description:"Profesjonalna platforma do sprzedaży oprogramowań WWW z automatycznym systemem demo",keywords:"oprogramowanie, aplikacje web, sprzedaż, demo, proxy"};function d({children:e}){return(0,s.jsxs)("html",{lang:"pl",className:"dark",children:[(0,s.jsxs)("head",{children:[s.jsx("title",{children:"Budowanie aplikacji | FelizTrade - Platforma Sprzedaży Oprogramowań WWW"}),s.jsx("meta",{name:"description",content:"Budowanie aplikacji - Profesjonalna platforma do sprzedaży oprogramowań WWW z automatycznym systemem demo"}),s.jsx("meta",{name:"keywords",content:"budowanie aplikacji, oprogramowanie, aplikacje web, sprzedaż, demo, proxy"}),s.jsx("meta",{property:"og:title",content:"Budowanie aplikacji | FelizTrade"}),s.jsx("meta",{property:"og:description",content:"Budowanie aplikacji - Profesjonalna platforma do sprzedaży oprogramowań WWW z automatycznym systemem demo"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:locale",content:"pl_PL"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),s.jsx("link",{rel:"icon",href:"/favicon.ico",type:"image/x-icon"})]}),(0,s.jsxs)("body",{className:l().className,children:[s.jsx(i.x7,{position:"top-right"}),e]})]})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,424,792],()=>a(7271));module.exports=s})();